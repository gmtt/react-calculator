{"version":3,"sources":["components/Display.js","components/action.js","components/Keypad.js","components/History.js","components/ControlPanel.js","components/Calculator.js","App.js","serviceWorker.js","components/equationCalc.js","store/reducer.js","components/reducer.js","store/store.js","index.js"],"names":["Display","classes","this","props","react","className","total","align","cur","preRes","React","VisibleDisplay","connect","state","calculator","equation","join","toString","withStyles","theme","min-height","font-size","clearCur","type","clearEquation","addDot","back","toggleNeg","equal","toggleHistory","data","styles","button","border","borderRadius","boxShadow","color","height","padding","width","cell","background","Block","_this","symbol","callback","console","log","addSymbol","addNum","Button_default","a","onClick","fullWidth","VisibleBlock","dispatch","s","num","Keypad","rows","i","length","cols","j","push","TableCell_default","key","TableRow_default","Table_default","TableBody_default","History","id","List_default","component","history","map","ListItem_default","ListItemText_default","primary","VisibleHistory","ControlPanel","VisibleControlPanel","Calculator","Grid_default","container","root","justify","alignItems","item","Paper_default","paper","components_Display","components_Keypad","VisibleCalculator","maxWidth","minWidth","flexGrow","App","react_default","createElement","Component","Boolean","window","location","hostname","match","calc2","lVal","rVal","combineReducers","arguments","undefined","action","slice","Object","objectSpread","includes","Number","res","equationCalc","lSym","rSym","tmp","AfterEquation","unshift","concat","startsWith","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a7db9ab6.chunk.js","sourcesContent":["import * as React from \"react\";\nimport * as PropTypes from 'prop-types';\nimport {connect} from 'react-redux'\nimport {withStyles} from \"@material-ui/core\"\n\nconst styles = theme => ({\n    total: {\n        'min-height': '2rem',\n    },\n    cur: {\n        'min-height': '3rem',\n        'font-size': '2rem'\n    }\n});\n\nclass Display extends React.Component {\n    render() {\n        const {classes} = this.props;\n        return (\n            <div>\n                <div className={classes.total} align=\"right\">{this.props.total}</div>\n                <div className={classes.cur} align=\"right\">\n                    {this.props.cur !== '' ? this.props.cur : this.props.preRes}\n                </div>\n            </div>\n        );\n    }\n}\n\nDisplay.propTypes = {\n    total: PropTypes.string,\n    cur: PropTypes.string.isRequired,\n    preRes: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n    total: state.calculator.equation.join(''),\n    cur: state.calculator.cur,\n    preRes: state.calculator.preRes.toString()\n});\nconst VisibleDisplay = connect(mapStateToProps, null)(withStyles(styles)(Display));\nexport default VisibleDisplay;","export const addSymbol = symbol => ({\n    type: 'ADD_SYMBOL',\n    symbol\n});\n\nexport const addNum = num => ({\n    type: 'ADD_NUM',\n    num\n});\n\nexport const clearCur = {\n    type: 'CLEAR_CUR'\n};\n\nexport const clearEquation = {\n    type: 'CLEAR_EQUATION'\n};\n\nexport const addDot = {\n    type: 'ADD_DOT'\n};\n\nexport const back = {\n    type: 'BACK'\n};\n\nexport const toggleNeg = {\n    type: 'TOGGLE_NEG'\n};\n\nexport const equal = {\n    type: 'EQUAL'\n};\n\nexport const toggleHistory = {\n    type: 'TOGGLE_HISTORY'\n};","import * as React from \"react\";\nimport * as PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport {addDot, addNum, addSymbol, back, clearCur, clearEquation, equal, toggleNeg} from \"./action\";\nimport {connect} from \"react-redux\";\nimport {withStyles} from \"@material-ui/core\";\n\nconst data = [\n    ['CE', 'C', 'BACK', '÷'],\n    ['7', '8', '9', 'x'],\n    ['4', '5', '6', '-'],\n    ['1', '2', '3', '+'],\n    ['±', '0', '.', '=']\n];\n\nconst styles = theme => ({\n    button: {\n        border: 0,\n        borderRadius: 3,\n        boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n        color: 'white',\n        height: 48,\n        padding: '0 30px',\n        width: '100%'\n    },\n    cell: {\n        background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n        width: '25%'\n    }\n});\n\nclass Block extends React.Component {\n    render() {\n        const {classes} = this.props;\n        let symbol = this.props.symbol;\n        let callback = () => {\n            console.log(symbol)\n        };\n        switch (symbol) {\n            case data[0][0]:    // CE\n                callback = this.props.clearEquation;\n                break;\n            case data[0][1]:    // C\n                callback = this.props.clearCur;\n                break;\n            case data[0][2]:    // BACK\n                callback = this.props.back;\n                break;\n            case data[0][3]:\n            case data[1][3]:\n            case data[2][3]:\n            case data[3][3]:    //÷ x - +\n                callback = () => this.props.addSymbol(symbol);\n                break;\n            case data[4][3]:    // =\n                callback = () => this.props.equal();\n                break;\n            case data[4][0]:    // ±\n                callback = this.props.toggleNeg;\n                break;\n            case data[4][2]:    // .\n                callback = this.props.addDot;\n                break;\n            default:            // 0-9\n                callback = () => this.props.addNum(symbol);\n        }\n        return (\n            <Button onClick={callback} className={classes.button} fullWidth={true}>\n                {this.props.symbol}\n            </Button>\n        );\n    }\n}\n\nBlock.propTypes = {\n    symbol: PropTypes.string.isRequired,\n    addNum: PropTypes.func.isRequired,\n    clearCur: PropTypes.func.isRequired,\n    clearEquation: PropTypes.func.isRequired,\n    addDot: PropTypes.func.isRequired,\n    back: PropTypes.func.isRequired,\n    toggleNeg: PropTypes.func.isRequired,\n    addSymbol: PropTypes.func.isRequired,\n    equal: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    addNum: (s) => dispatch(addNum(s)),\n    clearCur: () => dispatch(clearCur),\n    clearEquation: () => dispatch(clearEquation),\n    addDot: () => dispatch(addDot),\n    back: () => dispatch(back),\n    toggleNeg: () => dispatch(toggleNeg),\n    addSymbol: (s) => dispatch(addSymbol(s)),\n    equal: () => dispatch(equal)\n});\n\nconst VisibleBlock = connect(null, mapDispatchToProps)(withStyles(styles)(Block));\n\n\nclass Keypad extends React.Component {\n    render() {\n        const {classes} = this.props;\n        let rows = [];\n        for (let i = 0; i < data.length; ++i) {\n            let cols = [];\n            for (let j = 0; j < data[i].length; ++j) {\n                cols.push(\n                    <TableCell key={j} className={classes.cell} padding='none'>\n                        <VisibleBlock symbol={data[i][j]}/>\n                    </TableCell>)\n            }\n            rows.push(<TableRow key={i}>{cols}</TableRow>)\n        }\n        return (\n            <Table fullWidth={true}>\n                <TableBody>{rows}</TableBody>\n            </Table>\n        );\n    }\n}\n\nKeypad.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Keypad);","import * as React from \"react\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {connect} from \"react-redux\";\nimport * as PropTypes from \"prop-types\";\n\nclass History extends React.Component {\n    render() {\n        let id = 0;\n        return (\n            <List component=\"nav\">\n                {this.props.history.map((equation =>\n                        <ListItem button key={id++}>\n                            <ListItemText primary={equation.join('')}/>\n                        </ListItem>\n                ))}\n            </List>\n        );\n    }\n}\n\nHistory.propTypes = {\n    history: PropTypes.array\n};\n\nconst mapStateToProps = (state) => ({\n    history: state.calculator.history\n});\n\nexport const VisibleHistory = connect(mapStateToProps, null)(History);","import Button from \"@material-ui/core/Button\";\nimport * as React from \"react\";\nimport {toggleHistory} from \"./action\";\nimport {connect} from \"react-redux\";\nimport * as PropTypes from \"prop-types\";\n\nclass ControlPanel extends React.Component {\n    render() {\n        return (\n            <Button onClick={this.props.toggleHistory} fullWidth={true}>\n                Toggle History\n            </Button>\n        );\n    }\n}\n\nControlPanel.propTypes = {\n    toggleHistory: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    toggleHistory: () => dispatch(toggleHistory)\n});\n\nexport const VisibleControlPanel = connect(null, mapDispatchToProps)(ControlPanel);","import {connect} from \"react-redux\";\nimport * as React from \"react\";\nimport VisibleDisplay from \"./Display\";\nimport Keypad from \"./Keypad\";\nimport {VisibleHistory} from \"./History\";\nimport {VisibleControlPanel} from \"./ControlPanel\";\nimport * as PropTypes from \"prop-types\";\nimport {withStyles} from \"@material-ui/core\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst styles = theme => ({\n    paper: {\n        maxWidth: '500px',\n        minWidth: '375px'\n    },\n    root: {\n        flexGrow: 1\n    }\n});\n\nclass Calculator extends React.Component {\n    render() {\n        const {classes} = this.props;\n        return (\n            <Grid container className={classes.root} justify='center' alignItems='center'>\n                <Grid item>\n                    <Paper className={classes.paper}>\n                        <VisibleDisplay height=\"40px\"/>\n                        <VisibleControlPanel/>\n                        {this.props.toggleHistory ? <VisibleHistory/> : <Keypad/>}\n                    </Paper>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nCalculator.propTypes = {\n    toggleHistory: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    toggleHistory: state.calculator.toggleHistory\n});\n\nexport const VisibleCalculator = connect(mapStateToProps, null)(withStyles(styles)(Calculator));","import React, {Component} from 'react';\nimport {VisibleCalculator} from \"./components/Calculator\";\n\nclass App extends Component {\n    render() {\n        return (\n            <VisibleCalculator/>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit http://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","function calc2(lVal, rVal, symbol) {\n    switch (symbol) {\n        case '+':\n            return lVal + rVal;\n        case '-':\n            return lVal - rVal;\n        case 'x':\n            return lVal * rVal;\n        default:\n            return lVal / rVal;\n    }\n}\n\nexport const equationCalc = (equation) => {\n    // equation is list like [2, 'x', 4, '+', 1]\n    // equation at least has one number, and end with number\n    while (equation.length > 3) {\n        let\n            lVal = equation[0],\n            lSym = equation[1],\n            rVal = equation[2],\n            rSym = equation[3];\n        if (['+', '-'].includes(lSym) && ['x', '÷'].includes(rSym)) {\n            // lower priority\n            let i = 3;\n            while (i < equation.length) {\n                if (['+', '-'].includes(equation[i])) {\n                    break;\n                }\n                ++i;\n            }\n            let tmp = equationCalc(equation.slice(2, i));\n            if (i === equation.length) {\n                return calc2(lVal, tmp, lSym);\n            } else {\n                let AfterEquation = equation.slice(i);\n                AfterEquation.unshift(tmp);\n                equation = equation.slice(0, 2).concat(AfterEquation);\n            }\n        } else {\n            // same or larger priority\n            equation[2] = calc2(lVal, rVal, lSym);\n            equation = equation.slice(2)\n        }\n    }\n    if (equation.length === 3) {\n        return calc2(equation[0], equation[2], equation[1]);\n    } else if (equation.length === 1) {\n        return equation[0];\n    } else return 0;\n\n};\n","import {combineReducers} from \"redux\";\nimport {calculator} from \"../components/reducer\";\n\nexport default combineReducers({\n    calculator\n})","import {equationCalc} from \"./equationCalc\";\n\nexport const calculator = (state = {\n    equation: [],\n    cur: '',\n    preRes: '',\n    history: [],\n    toggleHistory: false\n}, action) => {\n    let equation = state.equation.slice(0);\n    switch (action.type) {\n        case 'TOGGLE_HISTORY':\n            return {\n                ...state,\n                toggleHistory: !state.toggleHistory\n            };\n        case 'EQUAL':\n            if (state.cur === \"\") {\n                if (equation.length > 0 && ['+', '-', 'x', '÷'].includes(equation[equation.length - 1])) {\n                    equation = equation.slice(0, -1)\n                }\n            } else {\n                equation.push(Number(state.cur));\n            }\n            let res = equationCalc(equation);\n            equation.push('=', res);\n            let history = state.history.slice(0);\n            history.push(equation);\n            return {\n                ...state,\n                equation: [],\n                cur: '',\n                preRes: res,\n                history\n            };\n        case 'ADD_SYMBOL':\n            if (state.cur === \"\") {\n                if (equation.length > 0) {\n                    equation[equation.length - 1] = action.symbol;\n                }\n            } else {\n                equation.push(Number(state.cur), action.symbol);\n            }\n            return {\n                ...state,\n                equation,\n                cur: ''\n            };\n        case 'ADD_NUM':\n            if (state.cur === '0') {\n                return {\n                    ...state,\n                    cur: action.num\n                }\n            } else {\n                return {\n                    ...state,\n                    cur: state.cur + action.num\n                }\n            }\n        case 'CLEAR_CUR':\n            return {\n                ...state,\n                cur: ''\n            };\n        case 'CLEAR_EQUATION':\n            return {\n                ...state,\n                equation: [],\n                cur: ''\n            };\n        case 'ADD_DOT':\n            if (!state.cur.includes('.')) {\n                return {\n                    ...state,\n                    cur: state.cur + '.'\n                }\n            } else {\n                return state\n            }\n        case 'BACK':\n            if (state.cur.length > 1) {\n                return {\n                    ...state,\n                    cur: state.cur.slice(0, -1)\n                }\n            } else {\n                return {\n                    ...state,\n                    cur: ''\n                }\n            }\n        case 'TOGGLE_NEG':\n            if (state.cur !== '0') {\n                if (state.cur.startsWith('-')) {\n                    return {\n                        ...state,\n                        cur: state.cur.slice(1)\n                    }\n                } else {\n                    return {\n                        ...state,\n                        cur: '-' + state.cur\n                    }\n                }\n            } else {\n                return state\n            }\n        default:\n            return state\n    }\n};","import {applyMiddleware, createStore} from \"redux\";\nimport rootReducer from './reducer';\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport thunk from 'redux-thunk';\n\nexport const store = createStore(\n    rootReducer,\n    composeWithDevTools(\n        applyMiddleware(thunk)\n    )\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}